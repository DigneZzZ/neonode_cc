---
const currentLanguage = Astro.url.pathname.startsWith('/en') ? 'en' : 'ru';
const targetLanguage = currentLanguage === 'en' ? 'ru' : 'en';
const languageText = currentLanguage === 'en' ? 'Читать на Русском' : 'Read in English';

function switchLanguage(lang: string) {
  const newPath = Astro.url.pathname.replace(/^\/(en|ru)/, '');
  return `/${lang}${newPath}`;
}
---

<div>
  <a href={switchLanguage(targetLanguage)}>{languageText}</a>
</div>